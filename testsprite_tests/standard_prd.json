{
  "meta": {
    "project": "War Room Map Marker Stability",
    "date": "2026-02-06",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "The War Room Map Marker Stability project ensures that interactive map markers and their logotypes remain precisely aligned to their geographic positions during zoom in and zoom out operations within the War Room dashboard application.",
  "core_goals": [
    "Ensure markers and logos remain geographically fixed when zooming in and out on the War Room map.",
    "Prevent any visible drift or misalignment of map markers or logos relative to their geographic locations.",
    "Provide a seamless and reliable user experience with the map view across multiple zoom levels.",
    "Support multiple markers and logos performing consistently without individual positional errors.",
    "Facilitate robust end-to-end testing scenarios for zoom stability of map markers and logos."
  ],
  "key_features": [
    "Interactive War Room map with zoom, pan, and view toggles for subsidiaries and factories.",
    "SVG overlays of company markers and logos that stay fixed on geographic points during zoom.",
    "Transit routes displayed as curved paths on the map connecting various markers.",
    "Map controls including zoom in, zoom out, and fullscreen functionality.",
    "Add company modal to register new subsidiaries and connections.",
    "Activity log panel listing recent War Room activity entries.",
    "Hub status panel showing metrics for active hubs.",
    "Services for real-time data updates and map math calculations ensuring marker stability and path rendering."
  ],
  "user_flow_summary": [
    "Users access the War Room map from the dashboard or designated routes.",
    "Markers representing company subsidiaries are displayed on the map.",
    "Users can zoom in and out using on-map controls, observing that markers and logos remain fixed and stable with no drift.",
    "Users may add new companies via a modal form which updates the map accordingly.",
    "Activity logs update dynamically reflecting recent War Room events.",
    "Hub status metrics are displayed for monitoring active hubs continuously."
  ],
  "validation_criteria": [
    "Markers and logos must remain fixed on the exact geographic locations after multiple zoom-in operations with no visible drift.",
    "Markers and logos must remain fixed on geographic locations after multiple zoom-out operations with no visible drift.",
    "After a full zoom-in followed by a zoom-out cycle, markers and logos return to their original positions without cumulative drift.",
    "All visible markers and their logos must consistently remain geographically stable through zoom changes.",
    "Use automated end-to-end tests to verify the stability criteria with precise coordinate position checks and no visual misalignment."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Angular",
      "SCSS",
      "JavaScript",
      "MapLibre GL"
    ],
    "features": [
      {
        "name": "War Room map view",
        "description": "Interactive map with markers, zoom, pan, and view toggles for subsidiaries and factories. Map container hosts overlay so marker/logo positions stay fixed on zoom.",
        "files": [
          "src/app/shared/features/war-room/components/war-room-map/war-room-map.component.ts",
          "src/app/shared/features/war-room/components/war-room-map/war-room-map.component.html",
          "src/app/shared/features/war-room/components/war-room-map/war-room-map.component.scss",
          "src/app/shared/features/war-room/war-room.component.ts"
        ]
      },
      {
        "name": "War Room map markers and logo",
        "description": "SVG overlay of company markers and logos on the map. Markers and logos must stay at the same geographic location when zooming in/out (no drift). Uses project() coordinates, viewBox, and overlay inside map container.",
        "files": [
          "src/app/shared/features/war-room/components/war-room-map/markers/war-room-map-markers.component.ts",
          "src/app/shared/features/war-room/components/war-room-map/markers/war-room-map-markers.component.html",
          "src/app/shared/features/war-room/components/war-room-map/markers/war-room-map-markers.component.scss"
        ]
      },
      {
        "name": "War Room map routes",
        "description": "Transit routes overlay (curved paths) between markers on the map.",
        "files": [
          "src/app/shared/features/war-room/components/war-room-map/routes/war-room-map-routes.component.ts",
          "src/app/shared/features/war-room/components/war-room-map/routes/war-room-map-routes.component.html",
          "src/app/shared/features/war-room/components/war-room-map/routes/war-room-map-routes.component.scss"
        ]
      },
      {
        "name": "War Room map controls",
        "description": "Zoom in, zoom out, and fullscreen controls for the map.",
        "files": [
          "src/app/shared/features/war-room/components/war-room-map/controls/war-room-map-controls.component.ts",
          "src/app/shared/features/war-room/components/war-room-map/controls/war-room-map-controls.component.html",
          "src/app/shared/features/war-room/components/war-room-map/controls/war-room-map-controls.component.scss"
        ]
      },
      {
        "name": "Add company modal",
        "description": "Modal form to register a new subsidiary and optional connection source.",
        "files": [
          "src/app/shared/features/war-room/components/add-company-modal/add-company-modal.component.ts",
          "src/app/shared/features/war-room/components/add-company-modal/add-company-modal.component.html",
          "src/app/shared/features/war-room/components/add-company-modal/add-company-modal.component.scss"
        ]
      },
      {
        "name": "Activity log",
        "description": "Side panel listing recent War Room activity entries.",
        "files": [
          "src/app/shared/features/war-room/components/war-room-activity-log/war-room-activity-log.component.ts",
          "src/app/shared/features/war-room/components/war-room-activity-log/war-room-activity-log.component.html",
          "src/app/shared/features/war-room/components/war-room-activity-log/war-room-activity-log.component.scss",
          "src/app/shared/features/war-room/war-room.component.ts"
        ]
      },
      {
        "name": "Hub status panel",
        "description": "Displays hub status and metrics for active hubs.",
        "files": [
          "src/app/shared/features/war-room/components/war-room-hub-status/war-room-hub-status.component.ts",
          "src/app/shared/features/war-room/components/war-room-hub-status/war-room-hub-status.component.html",
          "src/app/shared/features/war-room/components/war-room-hub-status/war-room-hub-status.component.scss",
          "src/app/shared/features/war-room/war-room.component.ts"
        ]
      },
      {
        "name": "War Room data services",
        "description": "Data access and real-time updates for War Room entities.",
        "files": [
          "src/app/shared/services/war-room.service.ts",
          "src/app/shared/services/war-room-realtime.service.ts"
        ]
      },
      {
        "name": "War Room map math service",
        "description": "Map projection, curved path creation, and tooltip positioning for the War Room map.",
        "files": [
          "src/app/shared/features/war-room/components/war-room-map/services/war-room-map-math.service.ts",
          "src/app/shared/features/war-room/components/war-room-map/services/war-room-map-assets.service.ts"
        ]
      }
    ]
  }
}
