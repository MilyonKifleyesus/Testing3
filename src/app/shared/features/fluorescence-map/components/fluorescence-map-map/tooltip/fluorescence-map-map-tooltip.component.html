@if (tooltip() && tooltip()!.visible) {
<div class="company-logo-tooltip" [style.top.px]="tooltip()!.top" [style.left.px]="tooltip()!.left"
  [class.flipped]="tooltip()!.flipped">
  <div class="tooltip-content">
    <div class="tooltip-header">
      @if (tooltip()!.logoPath) {
      <img [src]="tooltip()!.logoPath" [alt]="tooltip()!.displayName + ' logo'" class="tooltip-logo"
        (error)="logoError.emit({ nodeId: tooltip()!.nodeId, logoPath: tooltip()!.logoPath })">
      }
      <div class="tooltip-title-block">
        <div class="tooltip-title">{{ tooltip()!.displayName }}</div>
        <div class="tooltip-subtitle">Operational Node</div>
      </div>
      <div class="tooltip-status-pill" [ngClass]="tooltip()!.statusClass">
        {{ tooltip()!.statusLabel || 'STATUS' }}
      </div>
    </div>
    <div class="tooltip-body">
      <div class="tooltip-chips">
        <span class="tooltip-chip">{{ tooltip()!.typeLabel }}</span>
        <span class="tooltip-chip">{{ tooltip()!.locationLabel || 'Location Pending' }}</span>
      </div>
      <div class="tooltip-description">{{ tooltip()!.description }}</div>
      <div class="tooltip-details">
        <div class="tooltip-row">
          <span class="tooltip-label">TYPE</span>
          <span class="tooltip-value">{{ tooltip()!.typeLabel }}</span>
        </div>
        <div class="tooltip-row">
          <span class="tooltip-label">LOCATION</span>
          <span class="tooltip-value">{{ tooltip()!.locationLabel }}</span>
        </div>
        <div class="tooltip-row">
          <span class="tooltip-label">STATUS</span>
          <span class="tooltip-value" [ngClass]="tooltip()!.statusClass">{{ tooltip()!.statusLabel }}</span>
        </div>
        @if (tooltip()!.fullAddress) {
        <div class="tooltip-row">
          <span class="tooltip-label">ADDRESS</span>
          <span class="tooltip-value">{{ tooltip()!.fullAddress }}</span>
        </div>
        }
        @if (tooltip()!.notes) {
        <div class="tooltip-row">
          <span class="tooltip-label">NOTES</span>
          <span class="tooltip-value italic">{{ tooltip()!.notes }}</span>
        </div>
        }
      </div>
    </div>
  </div>
  <div class="tooltip-arrow"></div>
</div>
}
